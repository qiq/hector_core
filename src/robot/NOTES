- jaky je rozdil mezi parallel-module a select-module
- select modul predelat tak, ze bude pouzivat umelou pipe pro testovani, jestli
  ve vstupni fronte/frontach jsou nova data

- ProcessorSimple: sekvence modulu, ModuleInput muze byt jen na nacatku,
  ModuleOutput jen na konci, pocet vlaken = pocet paralelne provadenych sekvenci bloku
- ProcessorMulti: bere vic resources na vstupu a pise jich vic na vystup (soucasne se zpracovava vice resources)
- ProcessorSelect: jeden module, viz nize SelectModule
- soucasti processoru jsou i vstupni fronty (trivialni v pripade, ze prvni
  modul je ModuleInput)
<Processor id="a">
	<threads>10</threads>
	<modules>
		<item>module1</item>
		<item>module2</item>
	</modules>
	<inputQueue srcProcessor="b" priority="0" tag="RESOURCE_DNS_TIMEOUT"/>
</Processor>

---

START (start crawling), specifikuje frontu
STOP

SelectModule
- zpracovava vice pozadavku naraz, ale jen v jednom vlakne
- omezeny max. pocet zpracovavanych pozadavku (napr. 1000)
- neblokovane operace cteni/zapis do fronty
- pokud neni co cist -> nic nedelej, zpracovavej pozadavky a zapisuj do vystupni fronty
- pokud neni kam psat -> nepribirej dalsi pozadavky
	- celkem 1000 rozdelanych pozadavku
- vzdy precti tolik pozadavku, kolik se jich podarilo zapsat (aby celkem jich porad bylo 1000)
- cyklus:
	- cti pozadavky (bud kolik jich je k dispozici, nebo do 1000)
		- neblokovane, pokud se aspon jeden provadi
		- blokovane jinak
	- Process()
		- udelej select() se sleepem a zpracuj pozadavky, co prisly
	- zapis pozadavky, co jsou hotove (spojovy seznam, resp. pole)
		- neblokovane, pokud se aspon jeden provadi
		- blokovane jinak

Processor()
- ProcessorSimple(ResourceQueue *srcQueue, ResourceQueue *dstQueue)
- ProcessorParallel(ResourceQueue *srcQueue, ResourceQueue *dstQueue)
- ProcessorInput(ResourceQueue *dstQueue)
- ProcessorOutput(ResourceQueue *srcQueue);

Module()
- SimpleModule(Resource *resource)
- ParallelModule(Resource *src, Resource *dst)


ProcessingChain(config, name)
	- precte svuj config, zjisti ktere procesory a fronty ma vytvorit
	- vytvori fronty a vytvori procesory, tem preda config

Processor(fronty, config, name)
	- precte svuj config, zjisti ktere moduly vytvorit a pridat
	- vytvori moduly a provaze je

Module
